### day:1 unlink

简单的描述下，ctf中的unlink操作一般是先创建三个堆块然后通过操作chunk0或chunk2去使得chunk1可控，这时往往是构造chunk1的指针为puts_got去泄露地址然后构造ret2libc或用one_gadget来getshell



#### 技巧

1.检查看是否存在输入的size=0的情况，这种时候常常能进行输入任意长度的字符串
2.能edit就有可能unlink


#### 远古做法

伪造第一个块，然后通过修改了下一个块的pre_size 和size 然后free(chunk1) 触发unlink 



现在多了fd和bk指针的认证那么再多一个认证就完事

```c
fakefd = ptr-0x18
fakebk = ptr-0x10
```



例content

```python
content  = p64(0) + p64(0x61)  #prev_size  size
content += p64(fakefd) + p64(fakebk) #fd bk
content += p64(0)*8 + p64(0x60)
```

```python
content  =  p64(0)    + p64(0) 
content +=  p64(fake_fd_nextsize) + p64(fake_bk_nextsize)
```

